# Importing libraries
import pandas as pd
import numpy as np
import nltk
from nltk.corpus import stopwords

## Importing data

# Importing Steam Review
original_data = pd.read_csv("data/steam_review_10k.csv")
#steam_review = original_data.sample(frac=0.0013)
steam_review = original_data



# get the words list of postive neg
pos_words = []
neg_words = []

with open('data/opinion-lexicon-English/positive-words.txt', 'r') as file:
    # Read each line in the file
    for line in file:
        # Remove the newline character at the end of the line
        word = line.strip()
        # Append the word to the list
        pos_words.append(word)

with open('data/opinion-lexicon-English/negative-words.txt', 'r', encoding='ISO-8859-1') as file:
    # Read each line in the file
    for line in file:
        # Remove the newline character at the end of the line
        word = line.strip()
        # Append the word to the list
        neg_words.append(word)

# Combine both list
both_wrods = pos_words + neg_words

# Clearn words
pattern = '[^a-zA-Z]'

# Use a list comprehension to apply the regular expression to each string in the list
adjectives = [re.sub(pattern, '', w) for w in both_wrods]

# Remove review that doesn't contain words in lexicon
steam_review = steam_review[steam_review['review_text'].str.contains('|'.join(both_wrods))]

steam_review.head(10).to_csv("data/steam_review_tmp.csv")
